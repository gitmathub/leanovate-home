!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}("cookie-consent{align-items:center;background-color:#d3d3d3;bottom:0;color:#000;display:none;flex-direction:row;justify-content:center;left:0;opacity:.9;padding:.8rem;position:fixed;right:0}cookie-consent[variant=showAllways]{background-color:inherit;position:relative}cookie-consent>div.about{font-size:80%;order:1;padding:0 .8rem}cookie-consent>div.buttons{display:flex;flex-direction:row;margin-left:1.2rem;order:2;white-space:nowrap}cookie-consent>div.buttons :first-child{margin-right:.4rem}cookie-consent>div>button{border-radius:1.6rem;cursor:pointer;padding:.4rem 1.6rem}@media screen and (max-width:778px){cookie-consent{flex-direction:column;padding:.4rem}cookie-consent>div.buttons{align-items:center;justify-content:center;order:1}cookie-consent>div.about{order:2;padding:.4rem .8rem}cookie-consent>div>button{margin:.4rem}}.show-cookie-consent-banner{animation:fadein 1s ease-in;display:flex;opacity:.9}.hide-cookie-consent-banner{size:0;display:none}@keyframes fadein{0%{opacity:0}to{opacity:.9}}");class e extends HTMLElement{constructor(){super(),this.cookieExpireDays,this.cookieName,this.cookieConsent,this.scripts}connectedCallback(){this.cookieExpireDays=this.getAttribute("cookie-expire-days")||365,this.cookieName=this.getAttribute("cookie-name")||"cookie_consent",this.cookieConsent=this.getAttribute("cookie-consent"),this.scripts=this.getAttribute("scripts")?this.getAttribute("scripts").split(",").map((e=>e.trim())):"",this._render()}_render(){this._hasCookieConsent()?(this.cookieConsent=this._getCookieValue(),console.log("cookie consent is set to:",this.cookieConsent),this._hideCookieConsentBanner(),this._loadScripts(this.scripts)):(this._showCookieConsentBanner(),this.addEventListener("click",(e=>this._clickHandler(e))))}_hasCookieConsent(){return document.cookie.split("; ").filter((e=>e.startsWith(`${this.cookieName}=`))).length>0}_getCookieValue(){return document.cookie.split("; ").find((e=>e.startsWith(`${this.cookieName}=`))).split("=")[1]}_setCookieConsent(e){this.cookieConsent=e,this._setCookie(),this._render()}_setCookie(){const e=new Date,t=new Date(e.getTime()+864e5*this.cookieExpireDays).toUTCString();document.cookie=`${this.cookieName}=${this.cookieConsent};expires=${t};path=/`}_showCookieConsentBanner(){this.classList.remove("remove-cookie-consent-banner"),this.classList.remove("hide-cookie-consent-banner"),this.classList.add("show-cookie-consent-banner")}_hideCookieConsentBanner(){this.classList.remove("remove-cookie-consent-banner"),this.classList.remove("show-cookie-consent-banner"),this.classList.add("hide-cookie-consent-banner")}_clickHandler(e){const{target:t}=e;"accept"===t?.dataset?.action&&this._setCookieConsent("accept"),"reject"===t?.dataset?.action&&this._setCookieConsent("reject")}_loadScripts(e){console.log("load scripts..."),e.map((e=>{const t=document.createElement("script");t.src=e,document.head.append(t)}))}}customElements.define("cookie-consent",e);
